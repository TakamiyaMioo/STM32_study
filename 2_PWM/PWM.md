# 目录

------------------------------------------------------------------------

# 任务

1.  **产生10KHz的PWM波（频率和占空比可调，验收时指定）；**

2.  **测量该PWM的频率和占空比（建议采用输入捕获模式），并通过串口发送到电脑显示。**

# ![](media/image1.png)PWM配置

这个直接设置也可以打开

也可以先设置PA1（灯）为

![](media/image2.png)

然后设置

![](media/image3.png)时钟分频

Period

500-\>5毫秒

Mode

**PWM模式1，无论是向上还是向下计数，当计数值小于重装载值是输出有效电平**。

**PWM模式2，无论是向上还是向下计数，当计数值大于重装载值是输出有效电平**。

Fast mode不用管

Pulse为比较器的值（可以在程序里面修改）

# 程序代码

![](media/image4.png)![](media/image5.png)定时器文件

定时器名称

5 7

## 呼吸灯代码

![](media/image6.jpeg)

# 定时器中断（使用很频繁）

![](media/image7.png)H7系列有

17个标准定时器

特殊 HRTIM 高精度~~（没什么优势？）几乎用不到~~

12345定时器东西多一些

6少一些

总之不同定时器功能不同

一般使用定时器进行计时，中断，用功能少的

## 这里使用17

![](media/image8.png)打开

![](media/image9.png)通道选择

![](media/image10.png)分频，240MHz

![](media/image11.png)从零计数到65535
